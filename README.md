# DigitalWallet
Консольное приложение для заполнения информации о транзакциях для выбранного кошелька из списка доступных. 

[Описание задания](#task-description)  
[Описание результата](#result-description)

## Описание задания <a name="task-description"></a>
Разработать консольное .NET приложение для учета личных финансов, удовлетворяющее следующим требованиям:
 
- Построить иерархию классов, описывающих сущности системы - кошельки и транзакции:
    - Кошелек содержит список транзакций и имеет свойства: ID, название, валюта, начальный баланс.
    - Транзакция имеет свойства: ID, дата, сумма, тип (Income/Expense), описание.
    - Текущий баланс кошелька вычисляется как начальный баланс + сумма всех доходов - сумма всех расходов.
    - Новая трата не может быть совершена, если ее сумма превышает текущий баланс кошелька.
    - Месячный доход/расход вычисляется на основе транзакций за выбранный месяц.
 - Консольное приложение:
    - Получение данных для приложения можно организовать одним из способов:
        - Генерация прямо в приложении
        - Чтение из файла или БД
        - Пользовательский ввод
    - Вывести на экран:
        - Для указанного месяца сгруппировать все транзакции по типу (Income/Expense), отсортировать группы по общей сумме (по убыванию), в каждой группе отсортировать транзакции по дате (от самых старых к самым новым).
        - 3 самые большие траты за указанный месяц для каждого кошелька, отсортированные по убыванию суммы.
- Покрыть функционал unit-тестами.


## Описание результата <a name="result-description"></a>
Консольное приложение имеет 2 вида меню:
- Главное меню:
```
1. Создать кошелёк.
2. Выбрать кошелёк.
3. Отчет о наибольших тратах за месяц для всех кошельков.
4. Выход (сохранение данных).
```
- Меню при выборе кошелька:
```
1. Добавить транзакцию.
2. Показать все транзакции.
3. Показать транзакции за месяц.
4. Отчет о наибольших тратах за месяц.
5. Вернуться в главное меню.
```
Для хранения кошельков используется контейнер List\<Wallet>.  
Объекты транзакций (Transaction) хранятся в двух связных списках, созданных вручную:
- Первый односвязных список содержит транзакции, отсортированные по убываю дат, чтобы можно было посчитать баланс, даже при добавлении значения в середину;
- Второй односвязный список состоит из трех уровней: список годов, список месяцев и список транзакций за текущий месяц (отсортирован по трём полям: типу, сумме и дате, согласно одному из условия задачи).

Результаты сохраняются в файл data.json, после выхода из консольного меню (4 пункт главного меню).  

Для проверки работы функций были написаны 8 unit-тестов:
1. Получения списка доступных месяцев (и годов) для получения списка транзакций.
2. Корректное сортировка первого связного списка.
3. Корректное значение баланса.
4. Получение исключения при дублировании ID транзакции.
5. Получение исключения при добавлении расхода, превосходящий баланс (если запись пришла с запазданием и добавляется в середину).
6. Получение исключения при добавлении расхода, превосходящий баланс (в начало списка).
7. Проверка расположения после сортировки по трём полям: типу, сумме и дате.
8. Проверка фильтра на получение 3 крупных трат.
