# DigitalWallet
Консольное приложение для заполнения информации о транзакциях для выбранного кошелька из списка доступных. 

**Содержание**
- [Описание задания](#task-description)  
- [Описание результата](#result-description)
- [Описание файла data.json](#json-description)
- [Краткое описание тестов](#test-description)

## Описание задания <a name="task-description"></a>
Разработать консольное .NET приложение для учета личных финансов, удовлетворяющее следующим требованиям:
 
- Построить иерархию классов, описывающих сущности системы - кошельки и транзакции:
    - Кошелек содержит список транзакций и имеет свойства: ID, название, валюта, начальный баланс.
    - Транзакция имеет свойства: ID, дата, сумма, тип (Income/Expense), описание.
    - Текущий баланс кошелька вычисляется как начальный баланс + сумма всех доходов - сумма всех расходов.
    - Новая трата не может быть совершена, если ее сумма превышает текущий баланс кошелька.
    - Месячный доход/расход вычисляется на основе транзакций за выбранный месяц.
 - Консольное приложение:
    - Получение данных для приложения можно организовать одним из способов:
        - Генерация прямо в приложении
        - Чтение из файла или БД
        - Пользовательский ввод
    - Вывести на экран:
        - Для указанного месяца сгруппировать все транзакции по типу (Income/Expense), отсортировать группы по общей сумме (по убыванию), в каждой группе отсортировать транзакции по дате (от самых старых к самым новым).
        - 3 самые большие траты за указанный месяц для каждого кошелька, отсортированные по убыванию суммы.
- Покрыть функционал unit-тестами.


## Описание результата <a name="result-description"></a>
Консольное приложение имеет 2 вида меню:
- Главное меню:
```
1. Создать кошелёк.
2. Выбрать кошелёк.
3. Отчет о наибольших тратах за месяц для всех кошельков.
4. Выход (сохранение данных).
```
- Меню при выборе кошелька:
```
1. Добавить транзакцию.
2. Показать все транзакции.
3. Показать транзакции за месяц.
4. Отчет о наибольших тратах за месяц.
5. Вернуться в главное меню.
```
При показе всех транзакций записи отсортированы по убыванию дат (от последней к старой). При выборе за месяц записи отсортированы последовательно: по типу (сначала доходы, потом расходы), по убыванию суммы и по возрастанию дат.

Для хранения кошельков используется контейнер List\<Wallet>.  
Объекты транзакций (Transaction) хранятся в двух связных списках, созданных вручную:
- Первый односвязных список содержит транзакции, отсортированные по убываю дат, чтобы можно было посчитать баланс, даже при добавлении значения в середину;
- Второй односвязный список состоит из трех уровней: список годов, список месяцев и список транзакций за текущий месяц (отсортирован по трём полям: типу, сумме и дате, согласно одному из условия задачи).

## Описание файла data.json <a name="json-description"></a>
Результаты сохраняются в файл data.json, только после выхода из консольного меню (4 пункт главного меню).  
При загрузке данных из файла data.json исключения не обрабатываются (например, добавили запись в текстовом редакторе и забыли поменять идентификатор или не учли, что расход теперь превышает доход).

В проект был добавлен заполненный файл, который копируется к исполняемому файлу.
Файл содержит 3 кошелька и 32 транзакции, распределённых по 3 месяцам.
Более подробно о распределении можно узнать из следующей таблицы:

| Cчёт \ Месяц     | 12.2024                         | 01.2025                        | 02.2025                        |
| ---------------- | ------------------------------- | ------------------------------ | ------------------------------ |
| **Российский**   | 3 поступления <br/> 10 списаний | 1 поступление <br/> 1 списание | 1 поступление <br/> 2 списания |
| **Американский** | 1 поступление <br/> 1 списание  | 4 поступления <br/> 4 списания | –                              |
| **Европейский**  | 1 поступление <br/> 2 списания  | –                              | 1 списание                     |

## Краткое описание тестов <a name="test-description"></a>
Для проверки работы функций были написаны 8 unit-тестов:
1. Получения списка доступных месяцев (и годов) для получения списка транзакций.
2. Корректное сортировка первого связного списка.
3. Корректное значение баланса.
4. Получение исключения при дублировании ID транзакции.
5. Получение исключения при добавлении расхода, превосходящий баланс (если запись пришла с запазданием и добавляется в середину).
6. Получение исключения при добавлении расхода, превосходящий баланс (в начало списка).
7. Проверка расположения после сортировки по трём полям: типу, сумме и дате.
8. Проверка фильтра на получение 3 крупных трат.
